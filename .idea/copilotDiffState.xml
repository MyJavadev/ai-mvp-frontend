<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cliente/data/model/StudyPathDto.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cliente/data/model/StudyPathDto.kt" />
              <option name="originalContent" value="package com.example.cliente.data.model&#10;&#10;import kotlinx.serialization.Serializable&#10;&#10;/**&#10; * Study Path según el backend.&#10; * Response: { &quot;id&quot;: 1, &quot;user_id&quot;: 1, &quot;topic&quot;: &quot;...&quot;, &quot;created_at&quot;: &quot;...&quot; }&#10; */&#10;@Serializable&#10;data class StudyPathDto(&#10;    val id: Int,&#10;    val user_id: Int,&#10;    val topic: String,&#10;    val created_at: String,&#10;    val progress: Int = 0, // Calculado del lado del cliente&#10;    val modules: List&lt;ModuleDto&gt; = emptyList()&#10;)&#10;&#10;/**&#10; * Módulo de estudio.&#10; * Incluye image_url cuando la imagen fue generada.&#10; * Campos según documentación: title, description, subtopics, content, image_url, audio_url&#10; */&#10;@Serializable&#10;data class ModuleDto(&#10;    val id: Int,&#10;    val study_path_id: Int,&#10;    val title: String,&#10;    val description: String? = null,&#10;    val content: String,&#10;    val subtopics: String? = null, // JSON string o texto plano con subtemas&#10;    val order_index: Int,&#10;    val image_url: String? = null,&#10;    val audio_url: String? = null,&#10;    val created_at: String,&#10;    val isCompleted: Boolean = false, // Calculado del lado del cliente&#10;    val estimatedMinutes: Int? = null // Estimación del cliente&#10;)&#10;&#10;" />
              <option name="updatedContent" value="package com.example.cliente.data.model&#13;&#10;&#13;&#10;import kotlinx.serialization.Serializable&#13;&#10;&#13;&#10;/**&#13;&#10; * Study Path según el backend.&#13;&#10; * Response: { &quot;id&quot;: 1, &quot;user_id&quot;: 1, &quot;topic&quot;: &quot;...&quot;, &quot;created_at&quot;: &quot;...&quot; }&#13;&#10; */&#13;&#10;@Serializable&#13;&#10;data class StudyPathDto(&#13;&#10;    val id: Int,&#13;&#10;    val user_id: Int,&#13;&#10;    val topic: String,&#13;&#10;    val created_at: String,&#13;&#10;    val progress: Int = 0, // Calculado del lado del cliente&#13;&#10;    val modules: List&lt;ModuleDto&gt; = emptyList()&#13;&#10;)&#13;&#10;&#13;&#10;/**&#10; * Módulo de estudio según la tabla study_path_modules del backend.&#10; * Campos reales: id, study_path_id, title, description, subtopics (TEXT[]), image_url&#10; */&#10;@Serializable&#10;data class ModuleDto(&#10;    val id: Int,&#10;    val study_path_id: Int,&#10;    val title: String,&#10;    val description: String,&#10;    val subtopics: List&lt;String&gt;, // Array de strings en PostgreSQL&#10;    val image_url: String? = null&#10;)&#13;&#10;&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cliente/data/remote/TTSApiService.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cliente/data/remote/TTSApiService.kt" />
              <option name="originalContent" value="package com.example.cliente.data.remote&#10;&#10;import com.example.cliente.data.model.ApiResponse&#10;import kotlinx.serialization.Serializable&#10;import retrofit2.http.*&#10;&#10;/**&#10; * API Service para Text-to-Speech según documentación del backend.&#10; *&#10; * Endpoints disponibles:&#10; * - POST /text-to-speech - Crea trabajo TTS (async)&#10; * - GET /text-to-speech/:jobId - Consulta estado de un trabajo&#10; * - GET /text-to-speech - Lista trabajos recientes (filtrable)&#10; */&#10;interface TTSApiService {&#10;&#10;    /**&#10;     * Crea un trabajo de texto a voz.&#10;     *&#10;     * POST /text-to-speech&#10;     * Body: { &quot;text&quot;: &quot;...&quot;, &quot;userId&quot;: 1, &quot;moduleId&quot;: 23 }&#10;     * Response: 202 { &quot;jobId&quot;: &quot;uuid&quot; }&#10;     */&#10;    @POST(&quot;text-to-speech&quot;)&#10;    suspend fun createTTSJob(&#10;        @Body request: CreateTTSRequest&#10;    ): TTSJobResponse&#10;&#10;    /**&#10;     * Consulta el estado de un trabajo TTS.&#10;     *&#10;     * GET /text-to-speech/:jobId&#10;     * Response: { &quot;status&quot;: &quot;pending|processing|completed|failed&quot;, &quot;audioUrl&quot;: &quot;...&quot;, ... }&#10;     */&#10;    @GET(&quot;text-to-speech/{jobId}&quot;)&#10;    suspend fun getTTSJob(&#10;        @Path(&quot;jobId&quot;) jobId: String&#10;    ): TTSJobStatusResponse&#10;&#10;    /**&#10;     * Lista los trabajos TTS recientes.&#10;     *&#10;     * GET /text-to-speech?userId=X&amp;moduleId=Y&amp;status=completed&#10;     * Response: [{ trabajos ordenados por created_at desc, max 50 }]&#10;     */&#10;    @GET(&quot;text-to-speech&quot;)&#10;    suspend fun getTTSJobs(&#10;        @Query(&quot;userId&quot;) userId: Int? = null,&#10;        @Query(&quot;moduleId&quot;) moduleId: Int? = null,&#10;        @Query(&quot;status&quot;) status: String? = null&#10;    ): List&lt;TTSJobStatusResponse&gt;&#10;}&#10;&#10;/**&#10; * Request para crear un trabajo TTS.&#10; */&#10;@Serializable&#10;data class CreateTTSRequest(&#10;    val text: String,&#10;    val userId: Int,&#10;    val moduleId: Int? = null&#10;)&#10;&#10;/**&#10; * Response al crear un trabajo TTS.&#10; */&#10;@Serializable&#10;data class TTSJobResponse(&#10;    val jobId: String&#10;)&#10;&#10;/**&#10; * Estado de un trabajo TTS.&#10; */&#10;@Serializable&#10;data class TTSJobStatusResponse(&#10;    val id: String,&#10;    val user_id: Int,&#10;    val module_id: Int? = null,&#10;    val status: String, // &quot;pending&quot;, &quot;processing&quot;, &quot;completed&quot;, &quot;failed&quot;&#10;    val audioUrl: String? = null,&#10;    val error: String? = null,&#10;    val created_at: String = &quot;&quot;,&#10;    val updated_at: String? = null&#10;)&#10;&#10;" />
              <option name="updatedContent" value="package com.example.cliente.data.remote&#10;&#10;import kotlinx.serialization.Serializable&#10;import retrofit2.http.*&#10;&#10;/**&#10; * API Service para Text-to-Speech según documentación del backend.&#10; *&#10; * Endpoints disponibles:&#10; * - POST /text-to-speech - Crea trabajo TTS (async)&#10; * - GET /text-to-speech/:jobId - Consulta estado de un trabajo&#10; * - GET /text-to-speech - Lista trabajos recientes (filtrable)&#10; */&#10;interface TTSApiService {&#10;&#10;    /**&#10;     * Crea un trabajo de texto a voz.&#10;     *&#10;     * POST /text-to-speech&#10;     * Body: { &quot;text&quot;: &quot;...&quot;, &quot;userId&quot;: 1, &quot;moduleId&quot;: 23 }&#10;     * Response: 202 { &quot;jobId&quot;: &quot;uuid&quot; }&#10;     */&#10;    @POST(&quot;text-to-speech&quot;)&#10;    suspend fun createTTSJob(&#10;        @Body request: CreateTTSRequest&#10;    ): TTSJobResponse&#10;&#10;    /**&#10;     * Consulta el estado de un trabajo TTS.&#10;     *&#10;     * GET /text-to-speech/:jobId&#10;     * Response: { &quot;status&quot;: &quot;pending|processing|completed|failed&quot;, &quot;audioUrl&quot;: &quot;...&quot;, ... }&#10;     */&#10;    @GET(&quot;text-to-speech/{jobId}&quot;)&#10;    suspend fun getTTSJob(&#10;        @Path(&quot;jobId&quot;) jobId: String&#10;    ): TTSJobStatusResponse&#10;&#10;    /**&#10;     * Lista los trabajos TTS recientes.&#10;     *&#10;     * GET /text-to-speech?userId=X&amp;moduleId=Y&amp;status=completed&#10;     * Response: [{ trabajos ordenados por created_at desc, max 50 }]&#10;     */&#10;    @GET(&quot;text-to-speech&quot;)&#10;    suspend fun getTTSJobs(&#10;        @Query(&quot;userId&quot;) userId: Int? = null,&#10;        @Query(&quot;moduleId&quot;) moduleId: Int? = null,&#10;        @Query(&quot;status&quot;) status: String? = null&#10;    ): List&lt;TTSJobStatusResponse&gt;&#10;}&#10;&#10;/**&#10; * Request para crear un trabajo TTS.&#10; */&#10;@Serializable&#10;data class CreateTTSRequest(&#10;    val text: String,&#10;    val userId: Int,&#10;    val moduleId: Int? = null&#10;)&#10;&#10;/**&#10; * Response al crear un trabajo TTS.&#10; */&#10;@Serializable&#10;data class TTSJobResponse(&#10;    val jobId: String&#10;)&#10;&#10;/**&#10; * Estado de un trabajo TTS.&#10; */&#10;@Serializable&#10;data class TTSJobStatusResponse(&#10;    val id: String,&#10;    val user_id: Int,&#10;    val module_id: Int? = null,&#10;    val status: String, // &quot;pending&quot;, &quot;processing&quot;, &quot;completed&quot;, &quot;failed&quot;&#10;    val audioUrl: String? = null,&#10;    val error: String? = null,&#10;    val created_at: String = &quot;&quot;,&#10;    val updated_at: String? = null&#10;)&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cliente/presentation/module/ModuleDetailScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cliente/presentation/module/ModuleDetailScreen.kt" />
              <option name="originalContent" value="package com.example.cliente.presentation.module&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.automirrored.filled.VolumeUp&#10;import androidx.compose.material.icons.filled.CheckCircle&#10;import androidx.compose.material.icons.filled.Quiz&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import coil.compose.AsyncImage&#10;import com.example.cliente.data.model.ModuleDto&#10;&#10;/**&#10; * Pantalla de detalle de módulo según la guía de Android.&#10; *&#10; * Acciones disponibles:&#10; * - &quot;Escuchar&quot; → ejecutar POST /text-to-speech&#10; * - &quot;Quiz&quot; → consultar GET /modules/:moduleId/quiz&#10; * - &quot;Marcar completado&quot; → POST /progress/modules/complete&#10; */&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun ModuleDetailScreen(&#10;    module: ModuleDto,&#10;    userId: Int,&#10;    onNavigateToQuiz: (Int) -&gt; Unit,&#10;    onNavigateBack: () -&gt; Unit,&#10;    onGenerateTTS: (Int, String) -&gt; Unit = { _, _ -&gt; },&#10;    onCompleteModule: (Int, Int) -&gt; Unit = { _, _ -&gt; }&#10;) {&#10;    var showCompleteDialog by remember { mutableStateOf(false) }&#10;&#10;    Scaffold(&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { Text(&quot;Detalle del Módulo&quot;) },&#10;                navigationIcon = {&#10;                    IconButton(onClick = onNavigateBack) {&#10;                        Icon(Icons.AutoMirrored.Filled.ArrowBack, contentDescription = &quot;Volver&quot;)&#10;                    }&#10;                }&#10;            )&#10;        },&#10;        floatingActionButton = {&#10;            if (!module.isCompleted) {&#10;                ExtendedFloatingActionButton(&#10;                    onClick = { showCompleteDialog = true },&#10;                    icon = { Icon(Icons.Default.CheckCircle, contentDescription = null) },&#10;                    text = { Text(&quot;Completar&quot;) }&#10;                )&#10;            }&#10;        }&#10;    ) { paddingValues -&gt;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(paddingValues)&#10;                .verticalScroll(rememberScrollState())&#10;        ) {&#10;            // Module image&#10;            if (module.image_url != null) {&#10;                AsyncImage(&#10;                    model = module.image_url,&#10;                    contentDescription = &quot;Imagen del Módulo&quot;,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(200.dp),&#10;                    contentScale = ContentScale.Crop&#10;                )&#10;            }&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(16.dp),&#10;                verticalArrangement = Arrangement.spacedBy(16.dp)&#10;            ) {&#10;                // Title&#10;                Text(&#10;                    text = module.title,&#10;                    style = MaterialTheme.typography.headlineMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;&#10;                // Description&#10;                Text(&#10;                    text = module.description,&#10;                    style = MaterialTheme.typography.bodyLarge,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;&#10;                HorizontalDivider()&#10;&#10;                // Subtopics&#10;                if (module.subtopics.isNotEmpty()) {&#10;                    Column {&#10;                        Text(&#10;                            text = &quot;Temas cubiertos&quot;,&#10;                            style = MaterialTheme.typography.titleMedium,&#10;                            fontWeight = FontWeight.SemiBold&#10;                        )&#10;                        Spacer(modifier = Modifier.height(8.dp))&#10;                        module.subtopics.forEachIndexed { index, subtopic -&gt;&#10;                            Row(&#10;                                modifier = Modifier.padding(vertical = 4.dp)&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;${index + 1}. &quot;,&#10;                                    style = MaterialTheme.typography.bodyMedium,&#10;                                    fontWeight = FontWeight.Bold&#10;                                )&#10;                                Text(&#10;                                    text = subtopic,&#10;                                    style = MaterialTheme.typography.bodyMedium&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;&#10;                HorizontalDivider()&#10;&#10;                // Action buttons&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    // Audio button - usa description como texto para TTS&#10;                    OutlinedButton(&#10;                        onClick = {&#10;                            onGenerateTTS(module.id, module.description)&#10;                        },&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Icon(Icons.AutoMirrored.Filled.VolumeUp, contentDescription = null)&#10;                        Spacer(modifier = Modifier.width(4.dp))&#10;                        Text(&quot;Escuchar&quot;)&#10;                    }&#10;&#10;                    // Quiz button&#10;                    Button(&#10;                        onClick = { onNavigateToQuiz(module.id) },&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Icon(Icons.Default.Quiz, contentDescription = null)&#10;                        Spacer(modifier = Modifier.width(4.dp))&#10;                        Text(&quot;Quiz&quot;)&#10;                    }&#10;                }&#10;&#10;&#10;                Spacer(modifier = Modifier.height(80.dp)) // Space for FAB&#10;            }&#10;        }&#10;    }&#10;&#10;    // Complete module dialog&#10;    if (showCompleteDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showCompleteDialog = false },&#10;            title = { Text(&quot;Marcar como completado&quot;) },&#10;            text = { Text(&quot;¿Has terminado de estudiar este módulo?&quot;) },&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        onCompleteModule(userId, module.id)&#10;                        showCompleteDialog = false&#10;                    }&#10;                ) {&#10;                    Text(&quot;Sí, completar&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = { showCompleteDialog = false }) {&#10;                    Text(&quot;Cancelar&quot;)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.cliente.presentation.module&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.automirrored.filled.VolumeUp&#10;import androidx.compose.material.icons.filled.CheckCircle&#10;import androidx.compose.material.icons.filled.Quiz&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import coil.compose.AsyncImage&#10;import com.example.cliente.data.model.ModuleDto&#10;&#10;/**&#10; * Pantalla de detalle de módulo según la guía de Android.&#10; *&#10; * Acciones disponibles:&#10; * - &quot;Escuchar&quot; → ejecutar POST /text-to-speech&#10; * - &quot;Quiz&quot; → consultar GET /modules/:moduleId/quiz&#10; * - &quot;Marcar completado&quot; → POST /progress/modules/complete&#10; */&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun ModuleDetailScreen(&#10;    module: ModuleDto,&#10;    userId: Int,&#10;    onNavigateToQuiz: (Int) -&gt; Unit,&#10;    onNavigateBack: () -&gt; Unit,&#10;    onGenerateTTS: (Int, String) -&gt; Unit = { _, _ -&gt; },&#10;    onCompleteModule: (Int, Int) -&gt; Unit = { _, _ -&gt; }&#10;) {&#10;    var showCompleteDialog by remember { mutableStateOf(false) }&#10;&#10;    Scaffold(&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { Text(&quot;Detalle del Módulo&quot;) },&#10;                navigationIcon = {&#10;                    IconButton(onClick = onNavigateBack) {&#10;                        Icon(Icons.AutoMirrored.Filled.ArrowBack, contentDescription = &quot;Volver&quot;)&#10;                    }&#10;                }&#10;            )&#10;        },&#10;        floatingActionButton = {&#10;            ExtendedFloatingActionButton(&#10;                onClick = { showCompleteDialog = true },&#10;                icon = { Icon(Icons.Default.CheckCircle, contentDescription = null) },&#10;                text = { Text(&quot;Completar&quot;) }&#10;            )&#10;        }&#10;    ) { paddingValues -&gt;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(paddingValues)&#10;                .verticalScroll(rememberScrollState())&#10;        ) {&#10;            // Module image&#10;            if (module.image_url != null) {&#10;                AsyncImage(&#10;                    model = module.image_url,&#10;                    contentDescription = &quot;Imagen del Módulo&quot;,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(200.dp),&#10;                    contentScale = ContentScale.Crop&#10;                )&#10;            }&#10;&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(16.dp),&#10;                verticalArrangement = Arrangement.spacedBy(16.dp)&#10;            ) {&#10;                // Title&#10;                Text(&#10;                    text = module.title,&#10;                    style = MaterialTheme.typography.headlineMedium,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;&#10;                // Description&#10;                Text(&#10;                    text = module.description,&#10;                    style = MaterialTheme.typography.bodyLarge,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                )&#10;&#10;                HorizontalDivider()&#10;&#10;                // Subtopics&#10;                if (module.subtopics.isNotEmpty()) {&#10;                    Column {&#10;                        Text(&#10;                            text = &quot;Temas cubiertos&quot;,&#10;                            style = MaterialTheme.typography.titleMedium,&#10;                            fontWeight = FontWeight.SemiBold&#10;                        )&#10;                        Spacer(modifier = Modifier.height(8.dp))&#10;                        module.subtopics.forEachIndexed { index, subtopic -&gt;&#10;                            Row(&#10;                                modifier = Modifier.padding(vertical = 4.dp)&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;${index + 1}. &quot;,&#10;                                    style = MaterialTheme.typography.bodyMedium,&#10;                                    fontWeight = FontWeight.Bold&#10;                                )&#10;                                Text(&#10;                                    text = subtopic,&#10;                                    style = MaterialTheme.typography.bodyMedium&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;&#10;                HorizontalDivider()&#10;&#10;                // Action buttons&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    // Audio button - usa description como texto para TTS&#10;                    OutlinedButton(&#10;                        onClick = {&#10;                            onGenerateTTS(module.id, module.description)&#10;                        },&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Icon(Icons.AutoMirrored.Filled.VolumeUp, contentDescription = null)&#10;                        Spacer(modifier = Modifier.width(4.dp))&#10;                        Text(&quot;Escuchar&quot;)&#10;                    }&#10;&#10;                    // Quiz button&#10;                    Button(&#10;                        onClick = { onNavigateToQuiz(module.id) },&#10;                        modifier = Modifier.weight(1f)&#10;                    ) {&#10;                        Icon(Icons.Default.Quiz, contentDescription = null)&#10;                        Spacer(modifier = Modifier.width(4.dp))&#10;                        Text(&quot;Quiz&quot;)&#10;                    }&#10;                }&#10;&#10;&#10;                Spacer(modifier = Modifier.height(80.dp)) // Space for FAB&#10;            }&#10;        }&#10;    }&#10;&#10;    // Complete module dialog&#10;    if (showCompleteDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showCompleteDialog = false },&#10;            title = { Text(&quot;Marcar como completado&quot;) },&#10;            text = { Text(&quot;¿Has terminado de estudiar este módulo?&quot;) },&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        onCompleteModule(userId, module.id)&#10;                        showCompleteDialog = false&#10;                    }&#10;                ) {&#10;                    Text(&quot;Sí, completar&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = { showCompleteDialog = false }) {&#10;                    Text(&quot;Cancelar&quot;)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/cliente/presentation/navigation/NavGraph.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/cliente/presentation/navigation/NavGraph.kt" />
              <option name="originalContent" value="package com.example.cliente.presentation.navigation&#10;&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.remember&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.navArgument&#10;import com.example.cliente.data.model.ModuleDto&#10;import com.example.cliente.presentation.home.HomeScreen&#10;import com.example.cliente.presentation.module.ModuleDetailScreen&#10;import com.example.cliente.presentation.quiz.QuizResultScreen&#10;import com.example.cliente.presentation.quiz.QuizScreen&#10;import com.example.cliente.presentation.setup.SetupScreen&#10;import com.example.cliente.presentation.studypath.CreateStudyPathScreen&#10;import com.example.cliente.presentation.studypath.StudyPathDetailScreen&#10;import com.example.cliente.presentation.studypath.StudyPathListScreen&#10;&#10;@Composable&#10;fun NavGraph(&#10;    navController: NavHostController,&#10;    startDestination: String = Screen.Setup.route&#10;) {&#10;    NavHost(&#10;        navController = navController,&#10;        startDestination = startDestination&#10;    ) {&#10;        // Setup Screen - First time user experience&#10;        composable(Screen.Setup.route) {&#10;            SetupScreen(&#10;                onSetupComplete = {&#10;                    // Navigate to home and clear setup from backstack&#10;                    navController.navigate(Screen.Home.route) {&#10;                        popUpTo(Screen.Setup.route) { inclusive = true }&#10;                    }&#10;                }&#10;            )&#10;        }&#10;&#10;        // Home Screen&#10;        composable(Screen.Home.route) {&#10;            HomeScreen(&#10;                onNavigateToStudyPaths = {&#10;                    navController.navigate(Screen.StudyPathList.route)&#10;                },&#10;                onNavigateToCreatePath = {&#10;                    navController.navigate(Screen.CreateStudyPath.route)&#10;                }&#10;            )&#10;        }&#10;&#10;        // Study Path List&#10;        composable(Screen.StudyPathList.route) {&#10;            StudyPathListScreen(&#10;                onNavigateToDetail = { pathId -&gt;&#10;                    navController.navigate(Screen.StudyPathDetail.createRoute(pathId))&#10;                },&#10;                onNavigateBack = {&#10;                    navController.popBackStack()&#10;                },&#10;                onNavigateToCreate = {&#10;                    navController.navigate(Screen.CreateStudyPath.route)&#10;                }&#10;            )&#10;        }&#10;&#10;        // Study Path Detail&#10;        composable(&#10;            route = Screen.StudyPathDetail.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;pathId&quot;) { type = NavType.StringType }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val pathId = backStackEntry.arguments?.getString(&quot;pathId&quot;) ?: return@composable&#10;            StudyPathDetailScreen(&#10;                pathId = pathId,&#10;                onNavigateToModule = { moduleId -&gt;&#10;                    navController.navigate(Screen.ModuleDetail.createRoute(moduleId))&#10;                },&#10;                onNavigateBack = {&#10;                    navController.popBackStack()&#10;                }&#10;            )&#10;        }&#10;&#10;        // Create Study Path&#10;        composable(Screen.CreateStudyPath.route) {&#10;            CreateStudyPathScreen(&#10;                onNavigateBack = {&#10;                    navController.popBackStack()&#10;                },&#10;                onStudyPathCreated = { pathId -&gt;&#10;                    navController.navigate(Screen.StudyPathDetail.createRoute(pathId)) {&#10;                        popUpTo(Screen.StudyPathList.route)&#10;                    }&#10;                }&#10;            )&#10;        }&#10;&#10;        // Module Detail&#10;        composable(&#10;            route = Screen.ModuleDetail.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;moduleId&quot;) { type = NavType.StringType }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val moduleId = backStackEntry.arguments?.getString(&quot;moduleId&quot;) ?: return@composable&#10;            // TODO: Crear ViewModel para cargar el módulo&#10;            // Por ahora usamos un placeholder - esto debe conectarse con StudyPathRepository&#10;            ModuleDetailScreenWrapper(&#10;                moduleId = moduleId,&#10;                onNavigateToQuiz = { modId -&gt;&#10;                    navController.navigate(Screen.Quiz.createRoute(modId.toString()))&#10;                },&#10;                onNavigateBack = {&#10;                    navController.popBackStack()&#10;                }&#10;            )&#10;        }&#10;&#10;        // Quiz Screen&#10;        composable(&#10;            route = Screen.Quiz.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;moduleId&quot;) { type = NavType.StringType }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val moduleId = backStackEntry.arguments?.getString(&quot;moduleId&quot;) ?: return@composable&#10;            QuizScreen(&#10;                moduleId = moduleId,&#10;                onQuizCompleted = {&#10;                    navController.navigate(Screen.QuizResult.route)&#10;                },&#10;                onNavigateBack = {&#10;                    navController.popBackStack()&#10;                }&#10;            )&#10;        }&#10;&#10;        // Quiz Result Screen&#10;        composable(Screen.QuizResult.route) {&#10;            QuizResultScreen(&#10;                onNavigateBack = {&#10;                    navController.popBackStack()&#10;                }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;/**&#10; * Wrapper temporal para ModuleDetailScreen que carga el módulo desde el ID.&#10; * TODO: Implementar ViewModel completo con StudyPathRepository.getModule(moduleId)&#10; */&#10;@Composable&#10;fun ModuleDetailScreenWrapper(&#10;    moduleId: String,&#10;    onNavigateToQuiz: (Int) -&gt; Unit,&#10;    onNavigateBack: () -&gt; Unit&#10;) {&#10;    // Por ahora usamos un módulo mock&#10;    // TODO: Cargar el módulo real desde el repositorio usando un ViewModel&#10;    val mockModule = remember {&#10;        ModuleDto(&#10;            id = moduleId.toIntOrNull() ?: 0,&#10;            study_path_id = 1,&#10;            title = &quot;Módulo de Ejemplo&quot;,&#10;            description = &quot;Este es un módulo de ejemplo. Implementa el ViewModel para cargar datos reales.&quot;,&#10;            content = &quot;Contenido detallado del módulo. Aquí iría el contenido real cargado desde el backend.&quot;,&#10;            subtopics = &quot;• Tema 1\n• Tema 2\n• Tema 3&quot;,&#10;            order_index = 1,&#10;            image_url = null,&#10;            audio_url = null,&#10;            created_at = &quot;2025-01-09T00:00:00Z&quot;,&#10;            isCompleted = false,&#10;            estimatedMinutes = 30&#10;        )&#10;    }&#10;&#10;    // TODO: Obtener userId real desde UserPreferences&#10;    val mockUserId = 1&#10;&#10;    ModuleDetailScreen(&#10;        module = mockModule,&#10;        userId = mockUserId,&#10;        onNavigateToQuiz = onNavigateToQuiz,&#10;        onNavigateBack = onNavigateBack,&#10;        onGenerateTTS = { _, _ -&gt;&#10;            // TODO: Implementar generación de TTS&#10;        },&#10;        onCompleteModule = { _, _ -&gt;&#10;            // TODO: Implementar completar módulo&#10;        }&#10;    )&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.cliente.presentation.navigation&#13;&#10;&#13;&#10;import androidx.compose.runtime.Composable&#13;&#10;import androidx.compose.runtime.remember&#13;&#10;import androidx.navigation.NavHostController&#13;&#10;import androidx.navigation.NavType&#13;&#10;import androidx.navigation.compose.NavHost&#13;&#10;import androidx.navigation.compose.composable&#13;&#10;import androidx.navigation.navArgument&#13;&#10;import com.example.cliente.data.model.ModuleDto&#13;&#10;import com.example.cliente.presentation.home.HomeScreen&#13;&#10;import com.example.cliente.presentation.module.ModuleDetailScreen&#13;&#10;import com.example.cliente.presentation.quiz.QuizResultScreen&#13;&#10;import com.example.cliente.presentation.quiz.QuizScreen&#13;&#10;import com.example.cliente.presentation.setup.SetupScreen&#13;&#10;import com.example.cliente.presentation.studypath.CreateStudyPathScreen&#13;&#10;import com.example.cliente.presentation.studypath.StudyPathDetailScreen&#13;&#10;import com.example.cliente.presentation.studypath.StudyPathListScreen&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun NavGraph(&#13;&#10;    navController: NavHostController,&#13;&#10;    startDestination: String = Screen.Setup.route&#13;&#10;) {&#13;&#10;    NavHost(&#13;&#10;        navController = navController,&#13;&#10;        startDestination = startDestination&#13;&#10;    ) {&#13;&#10;        // Setup Screen - First time user experience&#13;&#10;        composable(Screen.Setup.route) {&#13;&#10;            SetupScreen(&#13;&#10;                onSetupComplete = {&#13;&#10;                    // Navigate to home and clear setup from backstack&#13;&#10;                    navController.navigate(Screen.Home.route) {&#13;&#10;                        popUpTo(Screen.Setup.route) { inclusive = true }&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Home Screen&#13;&#10;        composable(Screen.Home.route) {&#13;&#10;            HomeScreen(&#13;&#10;                onNavigateToStudyPaths = {&#13;&#10;                    navController.navigate(Screen.StudyPathList.route)&#13;&#10;                },&#13;&#10;                onNavigateToCreatePath = {&#13;&#10;                    navController.navigate(Screen.CreateStudyPath.route)&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Study Path List&#13;&#10;        composable(Screen.StudyPathList.route) {&#13;&#10;            StudyPathListScreen(&#13;&#10;                onNavigateToDetail = { pathId -&gt;&#13;&#10;                    navController.navigate(Screen.StudyPathDetail.createRoute(pathId))&#13;&#10;                },&#13;&#10;                onNavigateBack = {&#13;&#10;                    navController.popBackStack()&#13;&#10;                },&#13;&#10;                onNavigateToCreate = {&#13;&#10;                    navController.navigate(Screen.CreateStudyPath.route)&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Study Path Detail&#13;&#10;        composable(&#13;&#10;            route = Screen.StudyPathDetail.route,&#13;&#10;            arguments = listOf(&#13;&#10;                navArgument(&quot;pathId&quot;) { type = NavType.StringType }&#13;&#10;            )&#13;&#10;        ) { backStackEntry -&gt;&#13;&#10;            val pathId = backStackEntry.arguments?.getString(&quot;pathId&quot;) ?: return@composable&#13;&#10;            StudyPathDetailScreen(&#13;&#10;                pathId = pathId,&#13;&#10;                onNavigateToModule = { moduleId -&gt;&#13;&#10;                    navController.navigate(Screen.ModuleDetail.createRoute(moduleId))&#13;&#10;                },&#13;&#10;                onNavigateBack = {&#13;&#10;                    navController.popBackStack()&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Create Study Path&#13;&#10;        composable(Screen.CreateStudyPath.route) {&#13;&#10;            CreateStudyPathScreen(&#13;&#10;                onNavigateBack = {&#13;&#10;                    navController.popBackStack()&#13;&#10;                },&#13;&#10;                onStudyPathCreated = { pathId -&gt;&#13;&#10;                    navController.navigate(Screen.StudyPathDetail.createRoute(pathId)) {&#13;&#10;                        popUpTo(Screen.StudyPathList.route)&#13;&#10;                    }&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Module Detail&#13;&#10;        composable(&#13;&#10;            route = Screen.ModuleDetail.route,&#13;&#10;            arguments = listOf(&#13;&#10;                navArgument(&quot;moduleId&quot;) { type = NavType.StringType }&#13;&#10;            )&#13;&#10;        ) { backStackEntry -&gt;&#13;&#10;            val moduleId = backStackEntry.arguments?.getString(&quot;moduleId&quot;) ?: return@composable&#13;&#10;            // TODO: Crear ViewModel para cargar el módulo&#13;&#10;            // Por ahora usamos un placeholder - esto debe conectarse con StudyPathRepository&#13;&#10;            ModuleDetailScreenWrapper(&#13;&#10;                moduleId = moduleId,&#13;&#10;                onNavigateToQuiz = { modId -&gt;&#13;&#10;                    navController.navigate(Screen.Quiz.createRoute(modId.toString()))&#13;&#10;                },&#13;&#10;                onNavigateBack = {&#13;&#10;                    navController.popBackStack()&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Quiz Screen&#13;&#10;        composable(&#13;&#10;            route = Screen.Quiz.route,&#13;&#10;            arguments = listOf(&#13;&#10;                navArgument(&quot;moduleId&quot;) { type = NavType.StringType }&#13;&#10;            )&#13;&#10;        ) { backStackEntry -&gt;&#13;&#10;            val moduleId = backStackEntry.arguments?.getString(&quot;moduleId&quot;) ?: return@composable&#13;&#10;            QuizScreen(&#13;&#10;                moduleId = moduleId,&#13;&#10;                onQuizCompleted = {&#13;&#10;                    navController.navigate(Screen.QuizResult.route)&#13;&#10;                },&#13;&#10;                onNavigateBack = {&#13;&#10;                    navController.popBackStack()&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;&#13;&#10;        // Quiz Result Screen&#13;&#10;        composable(Screen.QuizResult.route) {&#13;&#10;            QuizResultScreen(&#13;&#10;                onNavigateBack = {&#13;&#10;                    navController.popBackStack()&#13;&#10;                }&#13;&#10;            )&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;/**&#13;&#10; * Wrapper temporal para ModuleDetailScreen que carga el módulo desde el ID.&#13;&#10; * TODO: Implementar ViewModel completo con StudyPathRepository.getModule(moduleId)&#13;&#10; */&#13;&#10;@Composable&#10;fun ModuleDetailScreenWrapper(&#10;    moduleId: String,&#10;    onNavigateToQuiz: (Int) -&gt; Unit,&#10;    onNavigateBack: () -&gt; Unit&#10;) {&#10;    // Por ahora usamos un módulo mock&#10;    // TODO: Cargar el módulo real desde el repositorio usando un ViewModel&#10;    val mockModule = remember {&#10;        ModuleDto(&#10;            id = moduleId.toIntOrNull() ?: 0,&#10;            study_path_id = 1,&#10;            title = &quot;Módulo de Ejemplo&quot;,&#10;            description = &quot;Este es un módulo de ejemplo. Implementa el ViewModel para cargar datos reales desde GET /study-path-modules/:id&quot;,&#10;            subtopics = listOf(&#10;                &quot;Tema 1: Introducción&quot;,&#10;                &quot;Tema 2: Conceptos básicos&quot;, &#10;                &quot;Tema 3: Práctica&quot;&#10;            ),&#10;            image_url = null&#10;        )&#10;    }&#10;&#10;    // TODO: Obtener userId real desde UserPreferences&#10;    val mockUserId = 1&#10;&#10;    ModuleDetailScreen(&#10;        module = mockModule,&#10;        userId = mockUserId,&#10;        onNavigateToQuiz = onNavigateToQuiz,&#10;        onNavigateBack = onNavigateBack,&#10;        onGenerateTTS = { _, _ -&gt;&#10;            // TODO: Implementar generación de TTS&#10;        },&#10;        onCompleteModule = { _, _ -&gt;&#10;            // TODO: Implementar completar módulo&#10;        }&#10;    )&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>